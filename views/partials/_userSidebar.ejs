<button id="sidebar-toggle" class="lg:hidden top-5 left-4 z-30 fixed flex justify-center items-center bg-accentGreen rounded-lg focus:outline-none size-8 text-white" onclick="toggleSidebar()">
  <i class="text-2xl ph-list ph"></i>
</button>

<!-- Overlay -->
<div id="overlay" class="hidden lg:hidden z-30 fixed inset-0 bg-black bg-opacity-50 transition-transform duration-500 ease-in-out"></div>

<!-- Sidebar Container -->
<aside id="sidebar" class="top-0 left-0 z-40 fixed bg-offWhite p-4 border-primaryGreen border-r w-[280px] h-dvh overflow-y-auto text-black text-xs md:text-sm xl:text-base transition-transform -translate-x-full lg:translate-x-0 duration-300 ease-in-out transform">
  <div class="flex items-center gap-x-5">
    <img class="rounded-lg size-6" src="../Images/logo.png" alt="Logo">
    <p class="font-semibold text-lg">Palm Sector</p>
  </div>

  <div class="flex flex-col gap-y-5 mt-10">
    <a onclick="toggleSidebar()" href="/user/dashboard" class="<%= currentPage === '/dashboard' ? 'bg-accentGreen font-bold text-white' : 'font-medium hover:bg-accentGreen hover:text-white duration-300' %> rounded-lg p-3 flex items-center gap-x-5">
      <i class="text-2xl <%= currentPage === '/dashboard' ? 'ph-fill' : 'ph' %> ph-squares-four"></i> Dashboard
    </a>
    <a onclick="toggleSidebar()" href="/user/deposit" class="<%= currentPage === '/deposit' ? 'bg-accentGreen font-bold text-white' : 'font-medium hover:bg-accentGreen hover:text-white duration-300' %> rounded-lg p-3 flex items-center gap-x-5">
      <i class="text-2xl <%= currentPage === '/deposit' ? 'ph-fill' : 'ph' %> ph-upload"></i> Deposit
    </a>
    <a onclick="toggleSidebar()" href="/user/plans" class="<%= currentPage === '/plans' ? 'bg-accentGreen font-bold text-white' : 'font-medium hover:bg-accentGreen hover:text-white duration-300' %> rounded-lg p-3 flex items-center gap-x-5">
      <i class="text-2xl <%= currentPage === '/plans' ? 'ph-fill' : 'ph' %> ph-notepad"></i> Plans
    </a>
    <a onclick="toggleSidebar()" href="/user/invest" class="<%= currentPage === '/invest' ? 'bg-accentGreen font-bold text-white' : 'font-medium hover:bg-accentGreen hover:text-white duration-300' %> rounded-lg p-3 flex items-center gap-x-5">
      <i class="text-2xl <%= currentPage === '/invest' ? 'ph-fill' : 'ph' %> ph-chart-line-up"></i> Invest
    </a>
    <a onclick="toggleSidebar()" href="/user/withdraw" class="<%= currentPage === '/withdraw' ? 'bg-accentGreen font-bold text-white' : 'font-medium hover:bg-accentGreen hover:text-white duration-300' %> rounded-lg p-3 flex items-center gap-x-5">
      <i class="text-2xl <%= currentPage === '/withdraw' ? 'ph-fill' : 'ph' %> ph-download"></i> Withdraw
    </a>
    <hr class="bg-black/20 h-0.5">
    <a onclick="toggleSidebar()" href="/user/history" class="<%= currentPage === '/history' ? 'bg-accentGreen font-bold text-white' : 'font-medium hover:bg-accentGreen hover:text-white duration-300' %> rounded-lg p-3 flex items-center gap-x-5">
      <i class="text-2xl <%= currentPage === '/history' ? 'ph-fill' : 'ph' %> ph-receipt"></i> History
    </a>
    <a onclick="toggleSidebar()" href="/user/referral" class="<%= currentPage === '/referral' ? 'bg-accentGreen font-bold text-white' : 'font-medium hover:bg-accentGreen hover:text-white duration-300' %> rounded-lg p-3 flex items-center gap-x-5">
      <i class="text-2xl <%= currentPage === '/referral' ? 'ph-fill' : 'ph' %> ph-network"></i> Referrals
    </a>
    <a onclick="toggleSidebar()" href="/user/profile" class="<%= currentPage === '/profile' ? 'bg-accentGreen font-bold text-white' : 'font-medium hover:bg-accentGreen hover:text-white duration-300' %> rounded-lg p-3 flex items-center gap-x-5">
      <i class="text-2xl <%= currentPage === '/profile' ? 'ph-fill' : 'ph' %> ph-identification-badge"></i> Profile
    </a>
    <a onclick="toggleSidebar()" href="/user/support" class="<%= currentPage === '/support' ? 'bg-accentGreen font-bold text-white' : 'font-medium hover:bg-accentGreen hover:text-white duration-300' %> rounded-lg p-3 flex items-center gap-x-5">
      <i class="text-2xl <%= currentPage === '/support' ? 'ph-fill' : 'ph' %> ph-headset"></i> Support
    </a>
    <form action="/logout" method="post">
      <button type="submit" class="font-medium hover:bg-accentGreen hover:text-white duration-300' %> rounded-lg p-3 flex items-center gap-x-5 mb-14 w-full"><i class="text-2xl ph ph-sign-out"></i> Logout</button>
    </form>
  </div>

</aside>

<!-- Add Scripts -->
<script>
  function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');
    const isClosed = sidebar.classList.contains('-translate-x-full');

    if (isClosed) {
      overlay.classList.remove('hidden');
      overlay.classList.add('translate-x-0');
      setTimeout(() => sidebar.classList.remove('-translate-x-full'), 500);
    } else {
      sidebar.classList.add('-translate-x-full');
      setTimeout(() => overlay.classList.add('hidden', 'translate-x-0'), 500);
    }
  }

  document.getElementById('sidebar-toggle').addEventListener('click', toggleSidebar);
  document.getElementById('overlay').addEventListener('click', toggleSidebar);
</script>